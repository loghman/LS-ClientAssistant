!function(e,t){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=a(e),n=a(t);const o=function(e){if(null==e)return"";var t=$.trim(e.toString());return""==t?"":t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/۰/g,0)).replace(/۱/g,1)).replace(/۲/g,2)).replace(/۳/g,3)).replace(/۴/g,4)).replace(/۵/g,5)).replace(/۶/g,6)).replace(/۷/g,7)).replace(/۸/g,8)).replace(/۹/g,9)},i=function(e){if(null==e)return"";let t=$.trim(e.toString());return""==t?"":(t=t.replace(/0/g,"۰"),t=t.replace(/1/g,"۱"),t=t.replace(/2/g,"۲"),t=t.replace(/3/g,"۳"),t=t.replace(/4/g,"۴"),t=t.replace(/5/g,"۵"),t=t.replace(/6/g,"۶"),t=t.replace(/7/g,"۷"),t=t.replace(/8/g,"۸"),t=t.replace(/9/g,"۹"),t)},r=function(e){let t=e.val();t=t.replace(/[\D\s\._\-]+/g,""),t=t?parseInt(t,10):"a",e.val((function(){return"a"===t?"":t.toLocaleString("en-US")}))};$((function(){$(".en-number").each((function(e,t){$(t).text(o($(t).text()))})),$(".fa-number").each((function(e,t){$(t).text(i($(t).text()))}));let e=$(".exists-number-format"),t=e.find(".number-format");t.length>0&&(t.each((function(e,t){r($(t))})),t.on("keyup",(function(e){""===window.getSelection().toString()&&-1===$.inArray(e.keyCode,[38,40,37,39])&&r($(this))})),e.on("submit",(function(){let e=$(this).find(".number-format"),t=e.val().replace(/[^\d.]/g,"");e.val(parseInt(t))}))),$(document).on("change",".en-number",(function(e){$(this).text(o($(this).text()))})),$(document).on("change",".fa-number",(function(e){$(this).text(i($(this).text()))})),$(document).on("keyup",".mobile, input.en-number, input[name=mobile]",(function(e){$(this).val(o($(this).val()))})),$(document).on("change",".mobile, input.en-number, input[name=mobile]",(function(e){$(this).val(o($(this).val()))}))}));const l=function(e,t="success",a=7e3,s="top-left"){$("body").append('<span class="response-wrapper toast-'+s+" "+t+' active">'+e+"</span>"),setTimeout((function(){let e=$("body > .response-wrapper");e.fadeOut(),e.remove()}),a)};window.toast=l;const c=s.default.create({baseURL:(void 0).BASE_URL+"api",headers:{"Content-Type":"application/json"}});c.interceptors.request.use((e=>{const t=n.default.get("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e})),c.interceptors.response.use((e=>e),(async e=>e.response&&0==e.response.data.status?Promise.reject(e.response.data):Promise.reject(e)));const d=c,u=async(e,t,a,s)=>{try{const n=await d.request({url:t,method:e,data:a,...s});return n}catch(e){return e}},p={handleAjaxForm:function(e){if(e.form.find(".just-validate-error-field").length>0)return!1;e.beforeFilesUpload((function(){let t=e.form.data("before-send");t&&window[t]&&window[t]({tag:e.form}),e.form.find("button:not([type=button]),[type=submit]").addClass("spinner-left")})),e.onFailedFileUpload((function(t){e.form.find("button:not([type=button]),[type=submit]").removeClass("spinner-left"),e.form.find("input[type=file]").addClass("is-invalid"),e.form.find(".upload-progress").remove(),console.log(t),t.message&&l(t.message,"danger")})),e.afterFileUpload((function(){})),e.onSuccess((function(t){switch(e.form.find("button:not([type=button]),[type=submit]").removeClass("spinner-left"),e.form.find(".upload-progress").remove(),t.message&&l(t.message),e.afterSuccessAction){case"closure":let a=e.form.data("fn");a&&window[a]?window[a]({tag:e.form,response:t.data}):alert("تابع پاس داده شده معتبر نمی باشد.");break;case"hide-modal":setTimeout((function(){e.form.closest(".modal").modal("hide")}),1e3);break;case"hide-form":e.form.delay(1e3).slideUp(500);break;case"refresh":let s=window.location.href,n=e.form.find("input[name=backurl]").val();"login-form"===e.form.attr("id")&&console.log("sjjkgvj",t),p.isURL(n)&&(s=n),t.data&&t.data.backUrl&&(s=t.data.backUrl),setTimeout((function(){s.includes("#")?(location.replace(s),location.reload()):location.replace(s)}),700);break;case"reset":e.form.trigger("reset"),e.form.find(".ql-editor").html("");break;case"replace":p.closeAllModals(),$(e.form.data("target")).css("opacity",1).html(t.data.html);break;case"append":p.closeAllModals(),$(e.form.data("target")).css("opacity",1).append(t.data.html);break;case"wizard":e.form.closest(".wizard-item").hide().fadeOut();let o=$(e.form.attr("data-wizard"));o.trigger("reset"),o.hide().fadeIn().css("display","-webkit-flex").css("display","flex"),o.find("[data-jsc=countdown]").text(parseInt(o.find("[data-jsc=countdown]").data("start")))}e.form.is("[data-echo]")&&1===e.form.attr("data-echo")&&console.log(t)})),e.onError((function(t){switch(e.form.find("button:not([type=button]),[type=submit]").removeClass("spinner-left"),e.form.find(".upload-progress").remove(),e.reset(),e.form.data("after-success")){case"wizard":if(!0===e.form.data("stable"))break;e.form.closest(".wizard-item").hide().fadeOut();let t=e.form.attr("data-wizard");$(t).hide().fadeIn().css("display","-webkit-flex").css("display","flex");break;case"replace":$(e.form.data("target")).css("opacity",1)}let a=e.form.data("after-failed");a&&window[a]&&window[a]({tag:e.form,response:t??null}),t&&1!=e.form.data("without-toast")&&(p.dumpErrors(t.message),e.form.is("[data-echo]")&&1===e.form.attr("data-echo")&&console.log(t))})),e.submit()},handleAjaxRequest:async function(e){let t=e.data("before-send");t&&window[t]&&window[t]({tag:e});const a=JSON.parse(e.attr("data-ajax")??e.attr("data-ajax_request")),s=a.route,n=e.data("after-success");if("ajax-request-onChange"==e.data("jsc")||"ajax-request-onkeyup"==e.data("jsc")){let t=e.attr("name");a[t]=e.val()}let o=e.closest(e.data("target"));if(0==o.length&&(o=e.closest("form").find(e.data("target"))),1===e.data("confirm")&&!confirm("آیا از انجام این مورد مطمئن هستید؟"))return!1;switch(n){case"replace":case"append":if(0===o.length&&(o=$(e.data("target")),0===o.length))return l("سلکتور تنظیم شده "+e.data("target")+" صحیح نمی باشد.","danger"),!1;break;case"like":e.find(".message").addClass("message-motion"),e.find(".bubble").addClass("bubble-motion")}"true"!==e.attr("data-stable")&&(e.css("opacity",.5),e.addClass("spinner-left")),a._token||(a._token=p.getCsrfToken());try{const t=e.data("method")??"post",i=s,r=await u(t,i,a,{});if(r.status){const t=function(t){switch(e.removeClass("spinner-left"),t.message&&l(t.message),e.css("opacity",1),n){case"closure":let a=e.data("fn");a&&window[a]?window[a]({tag:e,response:t.data}):alert("تابع پاس داده شده معتبر نمی باشد.");break;case"refresh":let s=window.location.href;e.data("backurl")&&(s=e.data("backurl")),t.data.backUrl&&(s=t.data.backUrl),setTimeout((function(){location.replace(s)}),700);break;case"replace":o.html(t.data.html),o.trigger("change"),o.hasClass("modal")&&"flex"!=o.css("display")&&o.trigger("open-modal");break;case"append":o.append(t.data.html),o.trigger("change");break;case"like":let n=e.find(".count"),i=n.data("count");e.hasClass("active")?(n.data("count",--i),n.text(i),e.removeClass("active")):(n.data("count",++i),n.text(i),e.addClass("active")),setTimeout((()=>{e.find(".message").removeClass("message-motion"),e.find(".bubble").removeClass("bubble-motion"),o.html(t.data.html)}),800);break;case"bookmark":e.hasClass("si-bookmark-plus-r")?e.removeClass("si-bookmark-plus-r").addClass("si-bookmark-plus"):e.removeClass("si-bookmark-plus").addClass("si-bookmark-plus-r");break;case"wizard":e.closest(".wizard-item").hide().fadeOut();let r=$(e.attr("data-wizard"));r.trigger("reset"),r.hide().fadeIn().css("display","-webkit-flex").css("display","flex"),r.find("[data-jsc=countdown]").text(parseInt(r.find("[data-jsc=countdown]").data("start")))}};t(r)}else{const t=function(t){switch(console.log(t),o.css("opacity",1),e.css("opacity",1),e.data("after-success")){case"wizard":if(!0===e.data("stable"))break;e.closest(".wizard-item").hide().fadeOut();let t=e.attr("data-wizard");$(t).hide().fadeIn().css("display","-webkit-flex").css("display","flex")}let s=e.data("after-failed");s&&window[s]&&window[s]({tag:e,response:t.data}),t.data&&null!=t.data.backUrl&&setTimeout((function(){location.replace(t.data.backUrl)}),700),"replace"!=a.action?(t&&p.dumpErrors(t.message),e.removeClass("spinner-left")):l("خطایی در دریافت و رندر اطلاعات رخ داده است","danger")};t(r)}}catch(e){console.log(e)}},isURL:function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},dumpErrors:function(e){if(void 0===e||null===e.message)l("مشکلی رخ داده است، لطفا مجددا تلاش کنید.","danger");else if(e.constructor==="text".constructor)l(e,"danger");else if(e.constructor==={}.constructor){Object.keys(e).map((t=>[Number(t),e[t]])).forEach((function(e){p.dumpErrors(e)}))}else e.constructor===[].constructor&&e.forEach((function(e){l(e,"danger")}))},closeAllModals:function(){$("[data-jsc^=modal]").blur(),$(".modal").css("display","none")},closeNotStableModals:function(){$("[data-jsc^=modal]").blur(),$(".modal:not(.stable)").css("display","none")},closeAllFooters:function(){$(".list-row").removeClass("active"),$(".list-row .footer").hide().removeClass("active"),$(".list-row [data-jsc^=footer]").removeClass("active")},closeAllDropdown:function(){$(".dropdown").removeClass("show")},getCsrfToken:function(){return $("meta[name=_token]").attr("content")}},f={changeScreen:function(e,t){let a=e.find(".media-gallery .screen img");a.parent().addClass("spinner-center"),a.attr("src",t.data("img")),e.find(".thumbnails .item").removeClass("active"),t.parent().addClass("active")},changedGalleryScreen:function(e){$(e).parent().removeClass("spinner-center")}};$("#logout_btn").on("click",(function(e){n.default.remove("token")}));const m=$("input[name=otp]"),h=function(){m.val(""),$("form input.jump-next-input").each((function(e,t){t.value&&m.val(m.val()+t.value)}))};$((function(){$(document).on("keyup",".jump-next-input",(function(e){e.preventDefault();let t=$(this),a=t.val();if(e.shiftKey&&9==e.keyCode)return t.val(""),void h();if(8==e.which){let e=t.prev(".jump-next-input");return e.length>0?e.focus().val(""):t.prevUntil(".jump-next-input").prev(".jump-next-input").focus().val(""),void h()}if(!$.isNumeric(a))return t.val(""),!1;let s=$(this).next(".jump-next-input");s.length>0?s.focus():t.nextUntil(".jump-next-input").next(".jump-next-input").focus(),h(),m.val().length})),$(document).on("click","[data-jsc=checked-all]",(function(e){let t=$(this).parent().parent().parent().find("input[type=checkbox]");1==this.checked?t.prop("checked",!0):t.prop("checked",!1),t.trigger("change")})),$(".input input, .input textarea").each((function(){let e=$(this);""!=e.val()&&e.closest(".input").addClass("not_empty")})),$(document).on("focus",".input input, .input textarea",(function(){$(this).closest(".input").addClass("focus")})),$(document).on("focusout",".input input, .input textarea",(function(){let e=$(this);e.closest(".input").removeClass("focus"),""==e.val()?e.closest(".input").removeClass("not_empty"):e.closest(".input").addClass("not_empty")})),$(document).on("change","[data-jsc=submit-onChange]",(function(e){e.preventDefault(),$(this).trigger("submit")})),$("[name=title],[name=slug],[class^=datepicker],[type=color]").each((function(e,t){$(t).attr("autocomplete","off")}))})),$((function(){$(document).on("click",".reload-coupon-code",(function(){$(this).parent().parent().find("input[name=label]").val(function(e,t=!1){let a,s="";a=1==t?"abcdefghijklmnopqrstuvwxyz":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";const n=a.length;let o=0;for(;o<e;)s+=a.charAt(Math.floor(Math.random()*n)),o+=1;return s}(8))}))})),$((function(){$(document).on("keyup","#inpagesearch",(function(e){if(keyword=$(this).val().toLowerCase(),$(".srbox, .srtext").removeClass("srmatch srhide"),$(".srcontext .srmsg").remove(),0==keyword.length)return!1;var t=0;$(".srtext").each((function(e,a){box=$(this).closest(".srbox"),$(this).html().toLowerCase().includes(keyword)?($(this).removeClass("srhide"),box.addClass("srmatch").removeClass("srhide"),t++):($(this).addClass("srhide"),box.is(".srmatch")||box.addClass("srhide"))})),t=toFaNumber(t),$(".srcontext").hasClass("msginputgroup")?$("<div class='srmsg max-w-fit d-flex align-items-center ps-xxs'><span class='badge bg-primary-20 text-secondary h-fit py-1 px-xxs t-small fs-13'>"+t+" نتیجه</span></div>").appendTo(".srmsgparent"):0==t?$("<p class='srmsg t-title text-secondary-60 text-end'>نتیجه ای برای این جستجو یافت نشد</p>").prependTo(".srcontext"):$("<p class='srmsg t-title text-secondary-60 text-end'>"+t+" نتیجه یافت شد.</p>").prependTo(".srcontext")})),$(document).on("click",".search-box .search-btn",(function(e){let t=$(this);window.outerWidth<=991.98&&!t.closest(".search-box").hasClass("active")&&(e.preventDefault(),t.closest(".search-box").addClass("active"),t.closest(".search-box").find("input").focus())})),$(document).on("click",".search-box .close-btn",(function(){$(this).closest(".search-box").removeClass("active")}))}));class g{constructor(){this.formData=new FormData,this.progressHandler=null,this.startHandler=null,this.finishHandler=null,this.successHandler=null,this.errorHandler=null,this.ajaxRequest=null}async upload(e,t,a,s={}){const n=this;this.formData.append("file",t);let o=a.find("input[name=api_key]").val()??null,i=a.find("input[name=entity_type]").val()??null,r=a.find("input[name=entity_id]").val()??null;o&&this.formData.append("api_key",o),i&&this.formData.append("entity_type",i),r&&this.formData.append("entity_id",r);try{const t=await u("POST",e,n.formData,{headers:{...s,"Content-Type":!1,crossDomain:!0,processData:!1,"Access-Control-Allow-Credentials":!1},onUploadProgress:this.progressHandler,onload:this.finishHandler,onloadstart:this.startHandler});200===t.status?this.successHandler(t):(toast(t.message),this.errorHandler(t))}catch(e){n.errorHandler(e)}}cancel(){this.ajaxRequest.abort()}}class b{constructor(e,t){this.form=e,this.fileName=t,this.ID=this.generateID(),this.uploader=new g,this.onProgress=this.onProgress.bind(this),this.uploader.progressHandler=this.onProgress,this.progressBar=null,this.progressBarPercent=null}generateID(){return(Math.random()+1).toString(36).substring(5)}generateProgressBar(){return`<div class="upload-progress ${this.fileName}"><div id="progress_bar_percent_${this.ID}" class="progress-percent"></div>\n        <div id="progress_bar_${this.ID}"  class="progress"><div class="progress-bar"></div></div></div>`}appendProgressBar(){this.form.find("input[name="+this.fileName+"]").after(this.generateProgressBar()),this.progressBar=this.form.find(`#progress_bar_${this.ID} .progress-bar`),this.progressBarPercent=this.form.find(`#progress_bar_percent_${this.ID}`)}onStart(e){this.uploader.startHandler=e}onFinish(e){this.uploader.finishHandler=e}onProgress(e){if(e.event.lengthComputable){const t=Math.ceil(e.loaded/e.total*100);this.updateProgressBar(t)}}onSuccess(e){this.uploader.successHandler=e}onError(e){this.uploader.errorHandler=e}updateProgressBar(e){this.progressBar.css("width",`${e}%`),this.progressBarPercent.text(`${e}%`)}upload(e){this.appendProgressBar(),this.uploader.upload(((e=null)=>(e=e??$("link#storage_url").attr("href"))+"/process.php")(),e,this.form)}}class v{constructor(e){this.form=e,this.afterSuccessAction=e.attr("data-after-success"),this.beforeFilesUploadHandler=null,this.afterFilesUploadHandler=null,this.onSuccessHandler=null,this.onErrorHandler=null,this.onFailedFileUploadHandler=null}async submit(){try{this.reset(),this.beforeFilesUploadHandler();const e=await this.uploadFiles().catch((e=>this.onFailedFileUploadHandler(e)));this.afterFilesUploadHandler(),await this.submitToServer(e)}catch(e){console.error("An error occurred during submission:",e)}}selectedFiles(){const e=this.form.find('input[type="file"]'),t={};return Object.keys(e).forEach((function(a){if(!isNaN(parseInt(a))){e[a].files.length>0&&(t[e[a].name]=e[a].files[0])}})),t}reset(){}async uploadFiles(){const e=this,t=this.selectedFiles();return 0===Object.keys(t).length?Promise.all([]):Promise.all(Object.keys(t).map((function(a){return new Promise((function(s,n){const o=new b(e.form,a);o.onSuccess((function(e){toast(e.data.data.message),s({name:a,response:JSON.stringify(e.data.data)})})),o.onError((function(e){n({name:a,response:JSON.stringify(e.data)})})),o.upload(t[a])}))})))}async submitToServer(e){const t=new FormData(this.form[0]);if(void 0!==e){Object.values(e).forEach((function(e){t.has(e.name)&&t.set(e.name,e.response)}));try{const e=this.form.attr("method"),a=this.form.attr("action"),s=await u(e,a,t,{});s.status?this.onSuccessHandler(s):this.onErrorHandler(s)}catch(e){console.log(e)}}}onSuccess(e){this.onSuccessHandler=e}onError(e){this.onErrorHandler=e}onFailedFileUpload(e){this.onFailedFileUploadHandler=e}beforeFilesUpload(e){this.beforeFilesUploadHandler=e}afterFileUpload(e){this.afterFilesUploadHandler=e}}$((function(){$(document).on("submit","[data-jsc=ajax-form], [data-jsc=ajax-form-onChange]",(function(e){e.preventDefault();let t=$(this);"replace"===t.data("after-success")&&"true"!==t.attr("data-stable")&&$(t.data("target")).css("opacity",.4);let a=new v(t);p.handleAjaxForm(a)})),$(document).on("change","[data-jsc=ajax-form-onChange]",(function(e){e.preventDefault(),$(this).trigger("submit")}))}));new class{constructor(){this.clearTooltips=()=>{for(const e in this.trackedElements){const t=document.body.querySelector(`tool-tip[uid="${e}"]`);t&&t.isConnected&&t.remove()}},this.clickTooltip=e=>{const t=e.target?.closest("[data-tooltip],[title]");if(!(t instanceof HTMLElement)||null===t?.getAttribute("data-tooltip"))return;if(e instanceof KeyboardEvent&&" "!==e.key)return;t.dataset.tooltipUid||(t.dataset.tooltipUid=this.uuid());const a=document.body.querySelector(`tool-tip[uid="${t.dataset.tooltipUid}"]`);a&&a?.remove()},this.showTooltip=e=>{const t=e.target;if(!(t instanceof HTMLElement)||null===t.getAttribute("data-tooltip")||"undefined"!=typeof TouchEvent&&e instanceof TouchEvent||e instanceof FocusEvent&&1!==this.deviceType)return;let a=this.getTitle(t);if(!a||!a.length)return void console.warn("Tooltip could not be created -- missing aria-label, tooltip, or title attribute.");t.dataset.tooltipUid||(t.dataset.tooltipUid=this.uuid());let s=document.body.querySelector("tool-tip")||document.createElement("tool-tip");s.setAttribute("uid",t.dataset.tooltipUid),s.innerHTML=a,s.setAttribute("role","tooltip"),s.style.position="absolute",s.style.zIndex="999999",s.style.opacity="0",s.isConnected||document.body.appendChild(s),this.placeTooltip(t,s),s.classList.add("visible"),s.style.opacity="1",t.dataset.tooltipUid in this.trackedElements||(this.trackedElements[t.dataset.tooltipUid]=null)},this.hideTooltip=e=>{const t=e.target;if(!(t instanceof HTMLElement&&null!==t?.getAttribute("data-tooltip")&&t?.dataset?.tooltipUid))return;const a=document.body.querySelector(`tool-tip[uid="${t.dataset.tooltipUid}"]`);a&&a.isConnected&&a.remove()},this.getTitle=e=>{let t=e.getAttribute("data-tooltip");return t&&t.length||(t=e.getAttribute("aria-label")),t&&t.length||(t=e.getAttribute("title")),t},this.uuid=()=>(Math.random()+1).toString(36).substring(5),this.trackedElements={},this.deviceType=1,document.addEventListener("mouseenter",this.showTooltip,{capture:!0,passive:!0}),document.addEventListener("focus",this.showTooltip,{capture:!0,passive:!0}),document.addEventListener("mouseleave",this.hideTooltip,{capture:!0,passive:!0}),document.addEventListener("blur",this.hideTooltip,{capture:!0,passive:!0}),document.addEventListener("click",this.clickTooltip,{capture:!0,passive:!0}),document.addEventListener("keypress",this.clickTooltip,{capture:!0,passive:!0}),document.addEventListener("touchstart",(()=>{this.deviceType=2}),{capture:!0,passive:!0}),document.addEventListener("mousemove",(()=>{this.deviceType=1}),{capture:!0,passive:!0}),window.addEventListener("scroll",this.clearTooltips,{capture:!0,passive:!0}),window.addEventListener("resize",this.clearTooltips,{capture:!0,passive:!0}),this.tick()}tick(){for(const e in this.trackedElements){const t=document.body.querySelector(`[data-tooltip-uid="${e}"]`),a=document.body.querySelector(`tool-tip[uid="${e}"]`);if(null==t)delete this.trackedElements[e],a&&a.isConnected&&a.remove();else if(null!=a){let e=this.getTitle(t);e!==a.innerHTML&&(a.innerHTML=e,this.placeTooltip(t,a))}}window.requestAnimationFrame(this.tick.bind(this))}placeTooltip(e,t){const a=e.getBoundingClientRect(),s=t.getBoundingClientRect();let n=a.left+a.width/2-s.width/2;if(n+s.width>window.innerWidth-4){n-=n+s.width-window.innerWidth+4}else n<4&&(n=4);let o=a.top+window.scrollY-(s.height+3);t.style.top=`${o}px`,t.style.left=`${n}px`}};const w=function(e){return e.toLowerCase().replace(/[-,\,,|,?,*,&,%,(,),!,@,#,^,$,_,\s]{1,}/g,"-")};$((function(){$(document).on("keyup",".slugify, input[name=slug]",(function(e){$(this).val(toEnNumber(w($(this).val())))})),$(document).on("change",".slugify, input[name=slug]",(function(e){$(this).val($(this).val().replace(/^-+|-+$/gm,""))})),$(".slugify, input[name=slug]").each((function(e,t){$(t).val(w($(t).val()))}))})),$((function(){$(document).on("click","[data-jsc=ajax-request]",(function(e){e.preventDefault(),p.handleAjaxRequest($(this))})),$(document).on("change","[data-jsc=ajax-request-onChange]",(function(e){e.preventDefault(),p.handleAjaxRequest($(this))})),$(document).on("keyup","[data-jsc=ajax-request-onkeyup]",(function(e){e.preventDefault(),p.handleAjaxRequest($(this))}))})),$((function(){$(document).on("click",".theme-switcher",(function(){let e,t=$(this);t.hasClass("si-moon-r")?(e="dark",t.removeClass("si-moon-r").addClass("si-sun-r")):(e="light",t.removeClass("si-sun-r").addClass("si-moon-r")),setCookie("themeMode",e,(new Date).getTime()+31536e7,"/"),location.reload()}))})),$((function(){$(document).on("click",".accordions .accordion .label",(function(){let e=$(this);e.closest(".accordion").toggleClass("expanded"),$(".accordions .accordion").not(e.closest(".accordion")).removeClass("expanded")})),$(document).on("click",".classic-accordions .classic-accordion .header",(function(){let e=$(this);e.closest(".classic-accordion").toggleClass("expanded"),$(".classic-accordions .classic-accordion").not(e.closest(".classic-accordion")).removeClass("expanded")}))})),$((function(){$(document).on("click","[data-jsc=gallery]",(function(e){let t=$(this);if($(e.target).is(".thumbnails .item img")){let a=$(e.target);f.changeScreen(t,a)}if($(e.target).is(".control .prev")){let e=t.find(".thumbnails .item.active").prev().find("img");0==e.length&&(e=t.find(".thumbnails .item:last-of-type img")),f.changeScreen(t,e)}if($(e.target).is(".control .next")){let e=t.find(".thumbnails .item.active").next().find("img");0==e.length&&(e=t.find(".thumbnails .item:first-of-type img")),f.changeScreen(t,e)}})),$("[data-jsc=gallery] .screen").removeClass("spinner-center")})),$((function(){$(document).on("click","[data-jsc^=modal]",(function(e){e.preventDefault(),e.stopPropagation();let t=$(this),a=$("."+t.data("jsc")),s=t.data("modal");p.closeAllModals(),a.fadeIn(200).css("display","flex"),s&&void 0!==s.action&&a.attr("action",s.action),s&&void 0!==s.header&&a.find(".content-header").html(s.header),s&&void 0!==s.backurl&&a.find("input[name=backurl]").val(s.backurl),s&&void 0!==s.message&&a.find(".content").html(s.message),s&&void 0!==s.btn&&a.find("button").html(s.btn)})),$(document).on("open-modal",".modal",(function(e){p.closeAllModals(),$(this).css("display","flex")})),$(document).on("click",".modal .close",(function(){p.closeAllModals()})),$(document).on("keydown",(function(e){"Escape"===e.key&&p.closeAllModals()}))})),$((function(){$(document).on("click","[data-jsc=edit]",(function(e){e.preventDefault();let t=$(this).closest(".content-box");t.addClass("d-none"),t.next(".edit-box").removeClass("d-none")})),$(document).on("click","[data-jsc=close-edit]",(function(e){e.preventDefault();let t=$(this).closest(".edit-box");t.addClass("d-none"),t.prev(".content-box").removeClass("d-none")}))})),$((function(){$(document).on("click","[data-jsc=tabs] .item",(function(e){e.preventDefault();let t=$(this).closest("[data-jsc=tabs]");$(this).parent().find("> .item").removeClass("active"),$(this).addClass("active"),t.find("> .tab-content").removeClass("active"),t.find("> .tab-content:eq("+$(this).index()+")").addClass("active")}))})),$((function(){$(document).on("click","body",(function(e){p.closeAllDropdown(),$(e.target).is(".modal")&&p.closeNotStableModals()})),$(document).on("click","[data-jsc=dropdown], .dropdown",(function(e){e.stopPropagation(),$(this).toggleClass("show")}))})),$((function(){$("[data-jsc=countdown]").each((function(e,t){let a=$(t);setInterval((function(){let e=parseInt(a.text());e<=0?a.text(0):a.text(e-1)}),1e3)}))})),$((function(){$(document).on("click",".list-row [data-jsc^=footer]",(function(e){e.preventDefault();let t=$(this);t.is(".active")?Utils.closeAllFooters():(Utils.closeAllFooters(),t.addClass("active").closest(".list-row").addClass("active").find("."+t.data("jsc")).show())}))})),$((function(){$(document).on("click","[data-jsc=copy]",(function(e){e.stopPropagation(),e.preventDefault();try{let e=$(this),t=e.attr("data-value"),a=document.createElement("input");a.value=t,document.body.append(a),a.select(),document.execCommand("copy"),a.remove(),e.addClass("text-success"),setTimeout((function(){e.removeClass("text-success")}),1e3)}catch(e){console.log(e)}}))})),$((function(){$(document).on("click",".nestable-collapse-toggle",(function(e){let t=$(this);($(e.target).hasClass("row-icon")||$(e.target).is("input")||$(e.target).is("label"))&&!$(e.target).hasClass("si-arrow-bottom-circle")||(t.toggleClass("active").closest(".nestable").children(".nestable").toggleClass("active"),t.closest(".nestable").toggleClass("active-nestable"))}))})),$((function(){$("[data-drm-text]").each((function(e,t){let a=$(t),s=a.data("drm-text"),n=2500,o={color:"red",fontSize:"14px",fontStyle:"bold",opacity:.4,position:"absolute",cursor:"default","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"};a.append("<span class='drm-text'>"+s+"</span>");let i=a.find(".drm-text");i.css(o),setInterval((function(){let e=100*Math.random(),t=e<50?"+":"-",a=100*Math.random(),s=a<50?"+":"-";i.css({left:"calc("+e+"% "+t+" "+i.width()+"px)",bottom:"calc("+a+"% "+s+" "+i.height()+"px)"})}),n)}))}));const y=$("#otp_verification_card");$((function(){const e=y.find(".jump-next-input"),t=e.length;e.on("paste",(function(a){if($(this).is(":focus")){const s=(a.originalEvent||a).clipboardData.getData("text"),n=o(s).replace(/\D/g,"").split("").slice(0,t);for(let t=0;t<n.length;t++)e[t].value=n[t];n.length>0&&n.length<=t&&e[n.length-1].focus(),h(),m.val().length}}))}));const k=e=>{e.origin===e.data.origin&&e.data.token&&(console.log(e.data.token),console.log(e.origin),n.default.set("token",e.data.token))};$=window.jQuery||window.$,window.toFaNumber=i,window.toEnNumber=o,window.Utils=p,window.GalleryUtils=f,window.toggleClass=function(e,t,a){e=$(e),"self"===t?e.toggleClass(a):t.includes("closest")?(t=t.replace("closest",""),e.closest(t).toggleClass(a)):$(t).toggleClass(a)},window.setQueryParam=function(e,t,a){let s=new URL(e);return""==a?s.searchParams.delete(t):s.searchParams.set(t,a),s.href},$((function(){window.addEventListener("message",k)}))}(axios,Cookies);
